<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
        integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous" />
    <link href="https://fonts.googleapis.com/css?family=Open+Sans&display=swap" rel="stylesheet" />

    <!-- <font> -->
    <link href="https://fonts.googleapis.com/css2?family=Balsamiq+Sans" rel="stylesheet">  
    <link rel="stylesheet" href="./assets/style.css" />

    <title>Work Day Scheduler</title>
</head>

<body>
    <header class="jumbotron">
        <h1 class="font-italic font-weight-bold text-white display-3">Work Day Scheduler</h1>
        <p class="text-white font-weight-bold lead">A simple calendar application for scheduling your work day</p>
        <p id="currentDay" class="text-white font-weight-bold lead"></p>
    </header>
    <div class="container">
        <!-- Timeblocks go here -->
        <div id="hour9" class="row time-block past">
            <div class="col-md-1 hour">
                9:00am
            </div>
            <textarea class="col-md-10 description">
            </textarea>
            <button class="btn saveBtn col-md-1"><i class="fas fa-save"></i></button>
        </div>

        <div id="hour10" class="row time-block present"> 
            <!-- == $0 -->
            <div class="col-md-1 hour">
                10:00am
            </div>
            <textarea class="col-md-10 description">
            </textarea>
            <button class="btn saveBtn col-md-1"><i class="fas fa-save"></i></button>
        </div>

        <div id="hour11" class="row time-block future">
            <div class="col-md-1 hour">
                11:00am
            </div>
            <textarea class="col-md-10 description">
            </textarea>
            <button class="btn saveBtn col-md-1"><i class="fas fa-save"></i></button>
        </div>

        <div id="hour12" class="row time-block future">
            <div class="col-md-1 hour">
                12:00pm
            </div>
            <textarea class="col-md-10 description">
            </textarea>
            <button class="btn saveBtn col-md-1"><i class="fas fa-save"></i></button>
        </div>

        <div id="hour13" class="row time-block future">
            <div class="col-md-1 hour">
                1:00pm
            </div>
            <textarea class="col-md-10 description">
            </textarea>
            <button class="btn saveBtn col-md-1"><i class="fas fa-save"></i></button>
        </div>

        <div id="hour14" class="row time-block future">
            <div class="col-md-1 hour">
                2:00pm
            </div>
            <textarea class="col-md-10 description">
            </textarea>
            <button class="btn saveBtn col-md-1"><i class="fas fa-save"></i></button>
        </div>

        <div id="hour15" class="row time-block future">
            <div class="col-md-1 hour">
                3:00pm
            </div>
            <textarea class="col-md-10 description">
            </textarea>
            <button class="btn saveBtn col-md-1"><i class="fas fa-save"></i></button>
        </div>

        <div id="hour16" class="row time-block future">
            <div class="col-md-1 hour">
                4:00pm
            </div>
            <textarea class="col-md-10 description">
            </textarea>
            <button class="btn saveBtn col-md-1"><i class="fas fa-save"></i></button>
        </div>

        <div id="hour17" class="row time-block future">
            <div class="col-md-1 hour">
                5:00pm
            </div>
            <textarea class="col-md-10 description">
            </textarea>
            <button class="btn saveBtn col-md-1"><i class="fas fa-save"></i></button>
        </div>

        <script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.24.0/moment.min.js"></script>
</body>

<script>

// vars

var saveBtn = document.querySelector("#saveBtn");
var hours = ["9", "10", "11", "12", "13", "14", "15", "16", "17" ]
var  text = "";
// var value = document.querySelector(".description")
// var myStorage = window.localStorage;
// var aValue = storage.getItem(keyName);
var currentHour = moment().hour();
// var i ;

// // vars for each hour 
// var t9 =   localStorage.getItem("9am");
// var t10 =  localStorage.getItem("10am");
// var t11 =  localStorage.getItem("11am");
// var t12 =  localStorage.getItem("12pm");
// var t13 =  localStorage.getItem("1pm");
// var t14 =  localStorage.getItem("2pm");
// var t15 =  localStorage.getItem("3pm");
// var t16 =  localStorage.getItem("4pm");
// var t17 =  localStorage.getItem("5pm");


// add current day and date with moments to #currentDay
var update = function() {
document.querySelector("#currentDay").innerHTML = moment().format('LLLL');
}
setInterval(update, 1000);


// function readFromLocalStorage ()
    //   (this is to look for anything saved previously in local storage)

// document.querySelector(".description").innerHTML = localStorage.getItem("")
    //         use for loop
    for(i = 0; i < hours.length; i++) {
    //             - read value from time property

    //             - assign as text back in element (using its class (.description) and id (specific to each hour)
    //                 document.querySelector(".description").innerHTML = text;

    //             - check current hour vs time slot (to determine color of text area)
    //             - assign proper class (.past .present .future) based on comparison to current hour (<,>, === or <=, >=, ===)
                    if (hours[i] === currentHour) {
                    $("#hour9, #hour10, #hour11, #hour12, #hour13, #hour14, #hour15, #hour16, #hour17")
                    .addClass("present")
                    .removeClass("future past");
                    
                    }
                    else if (hours[i] < currentHour) {
                    $("#hour9, #hour10, #hour11, #hour12, #hour13, #hour14, #hour15, #hour16, #hour17")
                    .addClass("past")
                    .removeClass("future present");
                    }
                    else if (hours[i] > currentHour) {
                    $("#hour9, #hour10, #hour11, #hour12, #hour13, #hour14, #hour15, #hour16, #hour17")
                    .addClass("future")
                    .removeClass("present past");
                    }
            
                console.log(hours[i], currentHour)
    }

//    function writeToLocalStorage () {
//(this is to save a value from the text area to local storage, using the hour as the key when save button is clicked)
 // add click event to save button class to run function         


// $(saveBtn).on("click" , "writeToLocalStorage() {

// //     //             - read text from text area (class = "description", should be parent of save button)
//                         myStorage.getItem(".description")
// //     //             - read schedule hour
//                         .getHour()
// //     //             - trim text, trim schedule hour
//                         .trim()
// //     //             - send to local storage
//                         myStorage.setItem(".description")
//   });      
    
//     }

// call readFromLocalStorage(); 




</script>
</body>
</html>